(()=>{"use strict";const e=document.querySelector(".container"),t=document.querySelector(".first-user"),s=document.querySelector(".batle"),n=document.querySelector(".result"),r=document.querySelector(".score-counter"),c=document.querySelector(".show-rules"),i=document.querySelector(".rules"),u=document.querySelector(".close-modal"),o={PAPER:"paper",SCISSORS:"scissors",ROCK:"rock"},a={current:{humansItem:"",computersItem:"",winner:"",loser:"",score:0},_listeners:[],onChange(e){this._listeners.push(e)},changed(){this._listeners.forEach((e=>e(this)))},setHumansItem(e){this.current.humansItem=e,this.changed()},setComputersItem(){const e=Object.values(o);this.current.computersItem=e[Math.floor(Math.random()*e.length)],this.changed()},setWinner(){this.current.humansItem.includes(o.SCISSORS)&&this.current.computersItem.includes(o.PAPER)&&(this.current.winner=this.current.humansItem),this.current.humansItem.includes(o.PAPER)&&this.current.computersItem.includes(o.ROCK)&&(this.current.winner=this.current.humansItem),this.current.humansItem.includes(o.ROCK)&&this.current.computersItem.includes(o.SCISSORS)&&(this.current.winner=this.current.humansItem),this.scoreAddition(),this.changed()},setLoser(){this.current.humansItem.includes(o.PAPER)&&this.current.computersItem.includes(o.SCISSORS)&&(this.current.loser=this.current.humansItem),this.current.humansItem.includes(o.ROCK)&&this.current.computersItem.includes(o.PAPER)&&(this.current.loser=this.current.humansItem),this.current.humansItem.includes(o.SCISSORS)&&this.current.computersItem.includes(o.ROCK)&&(this.current.loser=this.current.humansItem),this.scoreSubtraction(),this.changed()},setTie(){this.current.humansItem===this.current.computersItem&&(this.winner="",this.loser=""),this.changed()},setNewGame(){this.current.humansItem="",this.current.computersItem="",this.current.winner="",this.current.loser="",this.changed()},scoreAddition(){""!==this.current.winner&&(this.current.score+=1)},scoreSubtraction(){""!==this.current.loser&&0!==this.current.score&&(this.current.score-=1)}};e.addEventListener("click",(t=>{t.target.hasAttribute("data-item")&&(a.setHumansItem(t.target.getAttribute("src")),e.classList.add("inactive"),s.classList.add("active-section")),s.classList.contains("active-section")&&setTimeout((()=>{s.classList.remove("active-section"),a.setComputersItem(),n.classList.add("active-section"),a.setWinner(),a.setLoser(),a.setTie()}),1e3)})),n.addEventListener("click",(t=>{t.target.classList.contains("start-again")&&(a.setNewGame(),n.classList.remove("active-section"),e.classList.remove("inactive"))})),c.addEventListener("click",(()=>{i.classList.add("active-section")})),u.addEventListener("click",(()=>{i.classList.remove("active-section")})),a.onChange((function(){t.innerHTML=`\n      <p class="first-user-choice">YOU PICKED</p>\n      <div class="firts-user-choice-item">\n         <img class="first-chosen-item" src="${a.current.humansItem}" alt="humans choice" />\n      </div>\n    `})),a.onChange((function(){n.innerHTML=` \n   \x3c!-- First choice humans block --\x3e\n\n   <div class="result-first-user">\n      <p class="result-first-user-choice">YOU PICKED</p>\n      <div class="result-firts-user-choice-item ${""!==a.current.winner?"winner":""}">\n         <img\n            class="result-first-chosen-item ${""!==a.current.winner?"winner-item":""}"\n            src="${a.current.humansItem}"\n            alt=""\n         />\n      </div>\n   </div>\n\n   \x3c!-- First choice humans block was finished--\x3e\n\n   \x3c!-- Middle block set winner and loser --\x3e\n\n   <div class="result-finish ${a.current.winner||""!==a.current.computersItem?"active":""}"> \n      <p class="finish-winner ${""!==a.current.winner?"active":""}">YOU WIN</p>\n      <p class="finish-tie ${""==a.current.winner&&""==a.current.loser?"active":""}">It's a tie!</p>\n      <p class="finish-loser ${""!==a.current.loser?"active":""}">YOU LOSE</p>\n         <button class="start-again">PLAY AGAIN</button>\n   </div>\n\n   \x3c!-- Middle block set winner and loser was finished --\x3e\n\n   \x3c!-- Second choice computer block --\x3e\n\n   <div class="result-second-user">\n      <p class="result-second-user-choice">THE HOUSE PICKED</p>\n      <div class="result-second-user-choice-item ${""!==a.current.loser?"winner":""}">\n         <img class="result-second-chosen-item ${""!==a.current.loser?"winner-item":""}" src="/assets/${a.current.computersItem}.png" />\n   </div>\n   \n   \x3c!-- Second choice computer block was finished --\x3e\n\n   \x3c!-- Result summary was finished --\x3e\n   `})),a.onChange((function(){r.innerHTML=` \n   <p class="counter-number">${a.current.score}</p>\n   `})),a.changed()})();
//# sourceMappingURL=main.c11db230527c52c17c26.js.map