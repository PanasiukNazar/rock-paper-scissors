{"version":3,"file":"main.c11db230527c52c17c26.js","mappings":"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","sources":["webpack://rock-paper-scissors/./src/app/main.js"],"sourcesContent":["import '../styles/main.scss';\r\n\r\n// DOM elements\r\n\r\nconst $container = document.querySelector('.container');\r\nconst $humasChoice = document.querySelector('.first-user');\r\nconst $batle = document.querySelector('.batle');\r\nconst $result = document.querySelector('.result');\r\nconst $score = document.querySelector('.score-counter');\r\nconst $showRules = document.querySelector('.show-rules');\r\nconst $rules = document.querySelector('.rules');\r\nconst $closeRules = document.querySelector('.close-modal');\r\n\r\n// State\r\n\r\nconst AVAILABLE_ITEMS = {\r\n   PAPER: 'paper',\r\n   SCISSORS: 'scissors',\r\n   ROCK: 'rock',\r\n};\r\n\r\nconst state = {\r\n   current: {\r\n      humansItem: '',\r\n      computersItem: '',\r\n      winner: '',\r\n      loser: '',\r\n      score: 0,\r\n   },\r\n\r\n   _listeners: [],\r\n\r\n   onChange(listener) {\r\n      this._listeners.push(listener);\r\n   },\r\n\r\n   changed() {\r\n      this._listeners.forEach((listener) => listener(this));\r\n   },\r\n\r\n   setHumansItem(item) {\r\n      this.current.humansItem = item;\r\n      this.changed();\r\n   },\r\n\r\n   setComputersItem() {\r\n      const values = Object.values(AVAILABLE_ITEMS);\r\n      this.current.computersItem =\r\n         values[Math.floor(Math.random() * values.length)];\r\n      this.changed();\r\n   },\r\n\r\n   setWinner() {\r\n      if (\r\n         this.current.humansItem.includes(AVAILABLE_ITEMS.SCISSORS) &&\r\n         this.current.computersItem.includes(AVAILABLE_ITEMS.PAPER)\r\n      ) {\r\n         this.current.winner = this.current.humansItem;\r\n      }\r\n\r\n      if (\r\n         this.current.humansItem.includes(AVAILABLE_ITEMS.PAPER) &&\r\n         this.current.computersItem.includes(AVAILABLE_ITEMS.ROCK)\r\n      ) {\r\n         this.current.winner = this.current.humansItem;\r\n      }\r\n\r\n      if (\r\n         this.current.humansItem.includes(AVAILABLE_ITEMS.ROCK) &&\r\n         this.current.computersItem.includes(AVAILABLE_ITEMS.SCISSORS)\r\n      ) {\r\n         this.current.winner = this.current.humansItem;\r\n      }\r\n\r\n      this.scoreAddition();\r\n      this.changed();\r\n   },\r\n\r\n   setLoser() {\r\n      if (\r\n         this.current.humansItem.includes(AVAILABLE_ITEMS.PAPER) &&\r\n         this.current.computersItem.includes(AVAILABLE_ITEMS.SCISSORS)\r\n      ) {\r\n         this.current.loser = this.current.humansItem;\r\n      }\r\n\r\n      if (\r\n         this.current.humansItem.includes(AVAILABLE_ITEMS.ROCK) &&\r\n         this.current.computersItem.includes(AVAILABLE_ITEMS.PAPER)\r\n      ) {\r\n         this.current.loser = this.current.humansItem;\r\n      }\r\n\r\n      if (\r\n         this.current.humansItem.includes(AVAILABLE_ITEMS.SCISSORS) &&\r\n         this.current.computersItem.includes(AVAILABLE_ITEMS.ROCK)\r\n      ) {\r\n         this.current.loser = this.current.humansItem;\r\n      }\r\n\r\n      this.scoreSubtraction();\r\n      this.changed();\r\n   },\r\n\r\n   setTie() {\r\n      if (this.current.humansItem === this.current.computersItem) {\r\n         this.winner = '';\r\n         this.loser = '';\r\n      }\r\n      this.changed();\r\n   },\r\n\r\n   setNewGame() {\r\n      this.current.humansItem = '';\r\n      this.current.computersItem = '';\r\n      this.current.winner = '';\r\n      this.current.loser = '';\r\n      this.changed();\r\n   },\r\n\r\n   scoreAddition() {\r\n      if (this.current.winner !== '') {\r\n         this.current.score += 1;\r\n      }\r\n   },\r\n\r\n   scoreSubtraction() {\r\n      if (this.current.loser !== '' && this.current.score !== 0) {\r\n         this.current.score -= 1;\r\n      }\r\n   },\r\n};\r\n\r\n// Listeners\r\n\r\n$container.addEventListener('click', (event) => {\r\n   if (event.target.hasAttribute('data-item')) {\r\n      state.setHumansItem(event.target.getAttribute('src'));\r\n      $container.classList.add('inactive');\r\n      $batle.classList.add('active-section');\r\n   }\r\n\r\n   if ($batle.classList.contains('active-section')) {\r\n      setTimeout(() => {\r\n         $batle.classList.remove('active-section');\r\n         state.setComputersItem();\r\n         $result.classList.add('active-section');\r\n         state.setWinner();\r\n         state.setLoser();\r\n         state.setTie();\r\n      }, 1000);\r\n   }\r\n});\r\n\r\n$result.addEventListener('click', (event) => {\r\n   if (event.target.classList.contains('start-again')) {\r\n      state.setNewGame();\r\n      $result.classList.remove('active-section');\r\n      $container.classList.remove('inactive');\r\n   }\r\n});\r\n\r\n$showRules.addEventListener('click', () => {\r\n   $rules.classList.add('active-section');\r\n});\r\n\r\n$closeRules.addEventListener('click', () => {\r\n   $rules.classList.remove('active-section');\r\n});\r\n\r\nstate.onChange(renderHumasItem);\r\nstate.onChange(renderComputersItem);\r\nstate.onChange(renderScore);\r\n// Renderers\r\n\r\nfunction renderHumasItem() {\r\n   $humasChoice.innerHTML = `\r\n      <p class=\"first-user-choice\">YOU PICKED</p>\r\n      <div class=\"firts-user-choice-item\">\r\n         <img class=\"first-chosen-item\" src=\"${state.current.humansItem}\" alt=\"humans choice\" />\r\n      </div>\r\n    `;\r\n}\r\n\r\nfunction renderComputersItem() {\r\n   $result.innerHTML = ` \r\n   <!-- First choice humans block -->\r\n\r\n   <div class=\"result-first-user\">\r\n      <p class=\"result-first-user-choice\">YOU PICKED</p>\r\n      <div class=\"result-firts-user-choice-item ${\r\n         state.current.winner !== '' ? 'winner' : ''\r\n      }\">\r\n         <img\r\n            class=\"result-first-chosen-item ${\r\n               state.current.winner !== '' ? 'winner-item' : ''\r\n            }\"\r\n            src=\"${state.current.humansItem}\"\r\n            alt=\"\"\r\n         />\r\n      </div>\r\n   </div>\r\n\r\n   <!-- First choice humans block was finished-->\r\n\r\n   <!-- Middle block set winner and loser -->\r\n\r\n   <div class=\"result-finish ${\r\n      state.current.winner || state.current.computersItem !== '' ? 'active' : ''\r\n   }\"> \r\n      <p class=\"finish-winner ${\r\n         state.current.winner !== '' ? 'active' : ''\r\n      }\">YOU WIN</p>\r\n      <p class=\"finish-tie ${\r\n         state.current.winner == '' && state.current.loser == '' ? 'active' : ''\r\n      }\">It's a tie!</p>\r\n      <p class=\"finish-loser ${\r\n         state.current.loser !== '' ? 'active' : ''\r\n      }\">YOU LOSE</p>\r\n         <button class=\"start-again\">PLAY AGAIN</button>\r\n   </div>\r\n\r\n   <!-- Middle block set winner and loser was finished -->\r\n\r\n   <!-- Second choice computer block -->\r\n\r\n   <div class=\"result-second-user\">\r\n      <p class=\"result-second-user-choice\">THE HOUSE PICKED</p>\r\n      <div class=\"result-second-user-choice-item ${\r\n         state.current.loser !== '' ? 'winner' : ''\r\n      }\">\r\n         <img class=\"result-second-chosen-item ${\r\n            state.current.loser !== '' ? 'winner-item' : ''\r\n         }\" src=\"/assets/${state.current.computersItem}.png\" />\r\n   </div>\r\n   \r\n   <!-- Second choice computer block was finished -->\r\n\r\n   <!-- Result summary was finished -->\r\n   `;\r\n}\r\n\r\nfunction renderScore() {\r\n   $score.innerHTML = ` \r\n   <p class=\"counter-number\">${state.current.score}</p>\r\n   `;\r\n}\r\n\r\nstate.changed();\r\n"],"names":["$container","document","querySelector","$humasChoice","$batle","$result","$score","$showRules","$rules","$closeRules","AVAILABLE_ITEMS","PAPER","SCISSORS","ROCK","state","current","humansItem","computersItem","winner","loser","score","_listeners","onChange","listener","this","push","changed","forEach","setHumansItem","item","setComputersItem","values","Object","Math","floor","random","length","setWinner","includes","scoreAddition","setLoser","scoreSubtraction","setTie","setNewGame","addEventListener","event","target","hasAttribute","getAttribute","classList","add","contains","setTimeout","remove","innerHTML"],"sourceRoot":""}